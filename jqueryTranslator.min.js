/*
	Name: jqueryTranslator
	Author: Antonio Laguna
	Twitter: @Belelros
	Website: http://www.funcion13.com
	Version: 1.1.1
*/(function(e,t,n,r){var i={initialize:function(t,n){this.packages=[];this.loaded=e.Deferred();this.translatable=!0;this.options=e.extend({},e.fn.jqTranslate.options,n);var r=this.getUserLanguage();typeof t=="string"?this.packages.push(t):this.packages=t;this.isTranslatable(r)?this.loadLanguages():this.translatable=!1;return this.loaded.promise()},getUserLanguage:function(){var t=this.options.forceLang||navigator.language||navigator.userLanguage;e.defaultLanguage=t;t=t.replace(/_/,"-").toLowerCase();if(t.length>3){t=t.substring(0,3)+t.substring(3).toUpperCase();this.languages=[t.substring(0,2),t.substring(3).toUpperCase()]}else this.languages=[t];e.fn.jqTranslate.userLang=t;return t},isTranslatable:function(t){return this.options.defaultLang===t?!1:e.inArray(t,this.options.skip)===-1},loadLanguages:function(){var t=0,n=i.languages.length*i.packages.length;this.translatedStrings={};e.each(i.packages,function(r,s){var o=s;e.each(i.languages,function(e,r){i.getLanguage(o,r).done(i.storeLangFile).always(function(){t++;t>=n&&i.loaded.resolve()})})})},getLanguage:function(t,n){var r=this,i="",s=e.Deferred();r.options.path&&(i=r.options.path+"/");var o=i+[t,n].join("-")+".json";e.ajax({url:o,dataType:"json",cache:r.options.cache,async:r.options.asyncLangLoad}).done(function(e){s.resolve(e)}).fail(function(){if(r.options.fallbackLang){o=i+[t,r.options.fallbackLang].join("-")+".json";e.ajax({url:o,dataType:"json",cache:r.options.cache,async:r.options.asyncLangLoad}).done(function(e){s.resolve(e)})}else s.reject()});return s},storeLangFile:function(t){e.extend(i.translatedStrings,t)},translate:function(){var t=e(this),n=t.data("translate");if(i.translatable&&i.translatedStrings[n])if(i.translatedStrings[n].length===r){i.translateElement(t,i.translatedStrings[n].text);delete i.translatedStrings[n].text;t.attr(i.translatedStrings[n])}else i.translateElement(t,i.translatedStrings[n]);typeof i.options.onComplete=="function"&&i.options.onComplete.apply(this,arguments);return t},translateElement:function(e,t){e.is("input")||e.is("textarea")?e.is("[placeholder]")?e.attr("placeholder",t):e.val(t):e.is("optgroup")?e.attr("label",t):e.is("img")?e.attr("alt",t):e.html(t)}};e.fn.jqTranslate=function(e,t){var n=this;i.initialize(e,t).done(function(){n.each(i.translate)});return this};e.fn.jqTranslate.options={asyncLangLoad:!0,cache:!0,defaultLang:null,fallbackLang:null,forceLang:null,onComplete:null,path:null,skip:[]}})(jQuery,window,document);